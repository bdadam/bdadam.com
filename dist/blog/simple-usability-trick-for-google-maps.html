<!doctype html>
<html>
<head>
    <meta name="charset" content="utf-8"/>
    <title>A simple usability trick for Google Maps</title>
    <meta name="description" content="What should happen when the user scrolls over the map (mouse wheel) - zooming the map or scrolling the page?"/>
    <meta property="og:description" content="Embedding Google Maps in a website is very easy with its JavaScript API. A simple trick can improve the usability of large maps when users scroll with the mouse wheel over them."/>

    <link href="/static/main.css?11275b9f" rel="stylesheet"/>
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/bdadamcom"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="author" content="Adam Beres-Deak"/>
    <meta name="viewport" content="width=device-width"/>
    <link rel="apple-touch-icon" sizes="57x57" href="/static/img/favico/apple-touch-icon-57x57.png"/>
<link rel="apple-touch-icon" sizes="114x114" href="/static/img/favico/apple-touch-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="72x72" href="/static/img/favico/apple-touch-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="144x144" href="/static/img/favico/apple-touch-icon-144x144.png"/>
<link rel="apple-touch-icon" sizes="60x60" href="/static/img/favico/apple-touch-icon-60x60.png"/>
<link rel="apple-touch-icon" sizes="120x120" href="/static/img/favico/apple-touch-icon-120x120.png"/>
<link rel="apple-touch-icon" sizes="76x76" href="/static/img/favico/apple-touch-icon-76x76.png"/>
<link rel="apple-touch-icon" sizes="152x152" href="/static/img/favico/apple-touch-icon-152x152.png"/>
<link rel="icon" type="image/png" href="/static/img/favico/favicon-196x196.png" sizes="196x196"/>
<link rel="icon" type="image/png" href="/static/img/favico/favicon-160x160.png" sizes="160x160"/>
<link rel="icon" type="image/png" href="/static/img/favico/favicon-96x96.png" sizes="96x96"/>
<link rel="icon" type="image/png" href="/static/img/favico/favicon-32x32.png" sizes="32x32"/>
<link rel="icon" type="image/png" href="/static/img/favico/favicon-16x16.png" sizes="16x16"/>
<meta name="msapplication-TileColor" content="#aa2211"/>
<meta name="msapplication-TileImage" content="/static/img/favico/mstile-144x144.png"/>
</head>
<body>
<nav>
    <div class="container">
        <div class="pull-right">
            <a href="/javascript-goodies.html">JavaScript Goodies</a>
            <a href="/about.html">Contact</a>
        </div>
        <a class="brand" href="/">bdadam.com</a>
    </div>
</nav>


<div class="container">
    <article class="full-post">
        <h1>A simple usability trick for Google Maps</h1>
        <p class="legal">
            10th March 2014
            | by <a href="/about.html">Adam Beres-Deak</a>
            
                | <i class="fa fa-tags"></i> google maps,  usability,  javascript 
            
        </p>
        <p class="share-bar"></p>

        <p>Embedding Google Maps in a website is very easy with its JavaScript API. A simple trick can improve the usability of large maps when users scroll with the mouse wheel over them.</p>


        <h2 id="usability-problem">Usability problem</h2>
<p>If you embed Google Maps via its JavaScript API, there is usually a usability question:
<em>What should happen, when the users scroll over the map with their mouse wheels?</em>
The API defaults say: the user should zoom the map.</p>
<p>But that&#39;s in many cases not what users would expect. Especially when the map is large.
Sometimes they just want to scroll the page without zooming the map or having any interaction with it at all.</p>
<h2 id="how-to-solve-it">How to solve it</h2>
<p>There is a possible solution which is very easy and works for many users:</p>
<ol>
<li>Before they had any interaction with the map, disable zooming with the mouse wheel</li>
<li>After they had an interaction, enable zooming with the mouse wheel</li>
<li>When they click away, or interact with other parts of the page, disable zooming with mouse wheel again</li>
</ol>
<h2 id="demo">Demo</h2>
<ol>
<li>Just scroll with the mouse wheel over the map</li>
<li>Click onto the map</li>
<li>Start zooming in and out with the mouse wheel</li>
<li>Click somewhere outside of the map</li>
<li>Scroll with mouse wheel over the map to just scroll the page</li>
<li>Repeat these steps [at most a few times - no endless loop :)]</li>
</ol>
<p><div id="map" style="width: 100%; height: 350px; position: relative;"></div></p>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
<script>
    $(function() {
        var el = $('#map');
        var map;

        function enableScrollingWithMouseWheel() {
            map.setOptions({ scrollwheel: true });
        }

        function disableScrollingWithMouseWheel() {
            map.setOptions({ scrollwheel: false });
        }

        function init() {
            map = new google.maps.Map(el[0], {
                zoom: 10,
                center: new google.maps.LatLng(47.49840560, 19.04075779),
                scrollwheel: false // disableScrollingWithMouseWheel as default
            });

            google.maps.event.addListener(map, 'mousedown', function(){
                enableScrollingWithMouseWheel()
            });
        }

        google.maps.event.addDomListener(window, 'load', init);

        $('body').on('mousedown', function(event) {
            var clickedInsideMap = $(event.target).parents('#map').length > 0;

            if(!clickedInsideMap) {
                disableScrollingWithMouseWheel();
            }
        });

        $(window).scroll(function() {
            disableScrollingWithMouseWheel();
        });
    });
</script>

<h2 id="update-16-03-2014-">Update (16/03/2014)</h2>
<p>I edited the source code to use <code>mousedown</code> event instead of <code>click</code>.
This helps when the user drags the map - dragging counts also as an interaction with the map.</p>
<h2 id="source-code">Source code</h2>
<pre><code class="language-JavaScript">var el = $(&#39;#map&#39;);
var map;

function enableScrollingWithMouseWheel() {
    map.setOptions({ scrollwheel: true });
}

function disableScrollingWithMouseWheel() {
    map.setOptions({ scrollwheel: false });
}

function init() {
    map = new google.maps.Map(el[0], {
        zoom: 10,
        center: new google.maps.LatLng(47.49840560, 19.04075779),
        scrollwheel: false // disableScrollingWithMouseWheel as default
    });

    google.maps.event.addListener(map, &#39;mousedown&#39;, function(){
        enableScrollingWithMouseWheel()
    });
}

google.maps.event.addDomListener(window, &#39;load&#39;, init);

$(&#39;body&#39;).on(&#39;mousedown&#39;, function(event) {
    var clickedInsideMap = $(event.target).parents(&#39;#map&#39;).length &gt; 0;

    if(!clickedInsideMap) {
        disableScrollingWithMouseWheel();
    }
});

$(window).scroll(function() {
    disableScrollingWithMouseWheel();
});</code></pre>


        <p class="share-bar"></p>
        <a id="comments"></a>
        <div id="disqus_thread"></div>
        <script>
            var disqus_shortname = 'bdadamcom';
            (function() {
                var d = document.createElement('script'); d.async = true;
                d.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(d, s);
            }());
        </script>
    </article>

    <h4>Latest blog posts</h4>
    
        
            <p><a href="/blog/automatically-loading-grunt-tasks-with-matchdep.html">Automatically loading Grunt tasks with matchdep <span class="muted"><small>11th March 2014</small></span></a></p>
        
    
        
    
        
            <p><a href="/blog/switching-background-color-with-gimp.html">Switching background color of an image with Gimp <span class="muted"><small>2nd March 2014</small></span></a></p>
        
    
        
            <p><a href="/blog/panning-and-scrolling-background-images-using-the-canvas-element.html">Panning and scrolling background images using the canvas element <span class="muted"><small>1st March 2014</small></span></a></p>
        
    
        
            <p><a href="/blog/finding-a-random-document-in-mongodb.html">Finding a random document in MongoDB (with benchmarks) <span class="muted"><small>15th February 2014</small></span></a></p>
        
    
</div>

<footer>
    <p>Adam Beres-Deak &copy; 2014 | <a rel="external" href="http://feeds.feedburner.com/bdadamcom">RSS</a></p>
    <p class="legal container">
        Except where otherwise noted, content on this site is licensed under a
        <a href="http://creativecommons.org/licenses/by/4.0/" rel="external,noindex,nofollow">Creative Commons Attribution 4.0 International license</a>.
        Code samples are licensed under the MIT license.
    </p>
</footer>
<script src="/static/main.js?175a1b8b" async></script>
</body>
</html>