<!doctype html>
<html>
<head>
    <meta name="charset" content="utf-8"/>
    <title>Error handling in JavaScript</title>
    <meta name="description" content="The proper way of throwing and handling JavaScript Errors"/>
    <link href="/static/main.css?e7879522" rel="stylesheet"/>

    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/bdadamcom"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="author" content="Adam Beres-Deak"/>
    <meta name="viewport" content="width=device-width"/>
</head>
<body>
<nav>
    <div class="container">
        <a class="brand" href="/">bdadam.com</a>
        <div class="pull-right">
            <a href="/">Home</a>
            
            <a href="/about.html">Contact</a>
        </div>
    </div>
</nav>


<article class="container full-post">
    <h1>Error handling in JavaScript</h1>
    <p class="legal">
        31st January 2014
        | <a href="/about.html">Adam Beres-Deak</a>
        
            | <i class="fa fa-tags"></i> javascript,  browser,  error,  node.js 
        
        | <a href="#comments">comments</a>
    </p>
    <hr/>
    <p>Have you ever wondered, what&#x27;s the proper way of throwing JavaScript errors? And how to handle them? Here we&#x27;ll see some examples and we&#x27;ll define some custom error types.</p>

    <p><em>Additional bonus: the following code examples also work in node.js not just in the browsers.</em></p>
<h2 id="throwing-errors">Throwing Errors</h2>
<p>Throwing errors is very simple, we just need the <code>throw</code> statement.</p>
<pre><code class="language-JavaScript">function throwsAnError() {
    throw new Error(&#39;An error occured&#39;);
}

try {
    throwsAnError();
} catch(ex) {
    console.log(ex.message); // An error occured
}</code></pre>
<p>Theoretically it&#39;s possible to throw any kind of object, but it&#39;s not really recommended throwing anything else than <code>Error</code> or one of its derived (custom) types.
The reason for this is, that browsers not always work as you would expect.
Some of them (IE, Safari) only show &quot;uncaught exception&quot; and don&#39;t show the object which was thrown.</p>
<h2 id="default-error-types-in-javascript">Default error types in JavaScript</h2>
<p>There are six predefined error types in JavaScript:</p>
<ul>
<li>EvalError: when an error occurs in the <code>eval()</code> function</li>
<li>RangeError: when a parameter or variable is not in its valid numeric range</li>
<li>ReferenceError: when an invalid reference is de-referenced (e.g. using a variable which has not been defined)</li>
<li>SyntaxError: when there is a syntax error in some scripts</li>
<li>TypeError: when a parameter or variable is not of a valid type</li>
<li>URIError: when passing invalid parameters to URI function (<code>encodeURI()</code> or <code>decodeURI()</code>)</li>
</ul>
<h2 id="handling-specific-errors">Handling specific errors</h2>
<p>Here comes the <code>instanceof</code> operator handy, when our codes runs into a catch. With its help we can check which type does the exception belong to.</p>
<pre><code class="language-JavaScript">try {
    // doSomethingWithNumbersAndURIs();
} catch (ex) {
    if (ex instanceof RangeError) {
        alert(&#39;Value not in range!&#39;);
    } else if (ex instanceof URIError) {
        alert(&#39;Value not an URI!&#39;);
    } else {
        // some basic error handling
    }
}</code></pre>
<h2 id="throwing-custom-errors">Throwing custom errors</h2>
<p>This is also very simple, we just have to create a constructor for our error type which is derived from <code>Error</code>.
There&#39;s one little catch though, line numbers are shown incorrectly.</p>
<pre><code class="language-JavaScript">function CustomError(message) {
  this.name = &quot;CustomError&quot;;
  this.message = message || &quot;Some default message&quot;;
}
CustomError.prototype = new Error();
CustomError.prototype.constructor = CustomError;

try {
    throw new CustomError(&#39;An error occured!&#39;);
} catch(ex) {
    console.log(ex.name); // CustomError
    console.log(ex.message); // Ann error occured!
}</code></pre>
<p>If you are interested in more details:</p>
<ol>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" rel="external,nofollow">Mozilla Developer Network Documentation</a></li>
<li><a href="http://www.nczonline.net/blog/2009/03/10/the-art-of-throwing-javascript-errors-part-2/" rel="external,nofollow">NCZOnline</a></li>
</ol>


    <hr/>
    <a id="comments"></a>
    <div id="disqus_thread"></div>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
<script>
    var disqus_shortname = 'bdadamcom';
    (function() {
        var d = document.createElement('script'); d.async = true;
        d.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(d, s);
    }());
</script>


<footer>
    <p>Adam Beres-Deak &copy; 2014 | <a rel="external" href="http://feeds.feedburner.com/bdadamcom">RSS</a></p>
    <p class="legal container">
        Except where otherwise noted, content on this site is licensed under a
        <a href="http://creativecommons.org/licenses/by/4.0/" rel="external,noindex,nofollow">Creative Commons Attribution 4.0 International license</a>.
        Code samples are licensed under the MIT license.
    </p>
</footer>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    if (location.hostname !== 'localhost') {
        ga('create', 'UA-47485340-1', 'bdadam.com');
        ga('send', 'pageview');
    }

    (function() {
        function loadCss(url) {
            var link = document.createElement("link");
            link.rel = "stylesheet";
            link.href = url;
            document.getElementsByTagName("head")[0].appendChild(link);
        }

        function loadScript(src) {
            var s = document.createElement('script');
            s.async = true;
            s.src = src;
            var sc = document.getElementsByTagName('script')[0];
            sc.parentNode.insertBefore(s, sc);
        }

        loadCss('//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css');
        loadCss('http://yandex.st/highlightjs/8.0/styles/vs.min.css');
        loadScript('http://yandex.st/highlightjs/8.0/highlight.min.js');

        (function hlj() {
            if (typeof hljs === 'undefined') {
                return setTimeout(hlj, 100);
            }

            hljs.initHighlightingOnLoad();
        }());
    }());
</script>
</body>
</html>